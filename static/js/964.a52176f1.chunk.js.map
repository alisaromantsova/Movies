{"version":3,"file":"static/js/964.a52176f1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieListCard/MovielistCard.module.css?b879","components/MovieListCard/MovieListCard.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesLi\":\"MovielistCard_moviesLi__+lGJe\",\"name\":\"MovielistCard_name__zAXFP\",\"year\":\"MovielistCard_year__2EJtW\",\"text\":\"MovielistCard_text__vBB6Z\"};","import css from './MovielistCard.module.css';\n\nimport { Link, useLocation } from 'react-router-dom';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const MovielistCard = ({ id, img, name, date }) => {\n  const location = useLocation();\n  return (\n    <li className={css.moviesLi} key={id}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        {img ? (\n          <img src={`${IMG_URL}${img} `} alt={name || ''} height=\"411px\" />\n        ) : (\n          <div\n            style={{\n              width: '274px',\n              height: '411px',\n              border: '#000 solid 1px',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            <p>Not found</p>\n          </div>\n        )}\n        <div className={css.text}>\n          <p className={css.name}>{name}</p>\n          <p className={css.year}>{date}</p>\n        </div>\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\"};","import { MovielistCard } from 'components/MovieListCard/MovieListCard';\nimport css from './MoviesList.module.css';\nexport const MoviesList = ({ movies }) => {\n  return (\n    <ul className={css.list}>\n      {movies.map(movie => {\n        const { id, name, date, img } = movie;\n\n        return (\n          <MovielistCard key={id} id={id} name={name} date={date} img={img} />\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Movies_section__bjPDA\",\"title\":\"Movies_title__MDLXB\"};","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"SearchForm_input__HOxJo\",\"button\":\"SearchForm_button__UXY06\",\"form\":\"SearchForm_form__o80os\"};","import css from './SearchForm.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { useState } from 'react';\n\nexport const SearchForm = ({ setFormValue }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [changingValue, setChangingValue] = useState(\n    searchParams.get('search') ?? ''\n  );\n  const handlerSubmit = e => {\n    e.preventDefault();\n    if (e.target[0].value.trim()) {\n      setSearchParams({ search: e.target[0].value.trim() });\n      setFormValue(e.target[0].value.trim());\n    } else {\n      setSearchParams({});\n    }\n  };\n  return (\n    <form\n      className={css.form}\n      onSubmit={e => {\n        handlerSubmit(e);\n      }}\n    >\n      <input\n        onChange={e => {\n          setChangingValue(e.target.value);\n          setSearchParams({ search: e.target.value });\n        }}\n        className={css.input}\n        plaseholder=\"Film name...\"\n        value={changingValue}\n      />\n      <button className={css.button}>Search</button>\n    </form>\n  );\n};\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport css from './Movies.module.css';\nimport { Audio } from 'react-loader-spinner';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useSearchParams } from 'react-router-dom';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst KEY = 'api_key=e777b5f5a1d00d3a4d56208d16e8e0e4';\n\nconst Movies = () => {\n  const [formValue, setFormValue] = useState('');\n  const [searchParams] = useSearchParams();\n\n  const [movies, setMovies] = useState(null);\n\n  const [loader, setLoader] = useState(false);\n  useEffect(() => {\n    if (searchParams.get('search')) {\n      setFormValue(searchParams.get('search'));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const fetch = async () => {\n      setLoader(true);\n      try {\n        const response = await axios.get(\n          `${BASE_URL}?${KEY}&query=${formValue}`\n        );\n\n        const filmNames = response.data.results.map(film => {\n          const { title, name, id, poster_path, release_date } = film;\n          const obj = {\n            name: title || name,\n            id: id,\n            img: poster_path,\n            date: release_date ? release_date.slice(0, 4) : '',\n          };\n          return obj;\n        });\n        setMovies(filmNames);\n        setLoader(false);\n      } catch {\n        console.log('error');\n      }\n    };\n    if (formValue) {\n      fetch();\n    } else {\n      setMovies(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formValue, searchParams]);\n\n  return (\n    <div className={css.section}>\n      <h1 className={css.title}>Search movies</h1>\n      <SearchForm setFormValue={setFormValue} />\n\n      {loader && (\n        <Audio\n          height=\"80\"\n          width=\"80\"\n          radius=\"9\"\n          color=\"green\"\n          ariaLabel=\"loading\"\n          margin=\"auto\"\n        />\n      )}\n\n      {movies && movies.length > 0 && <MoviesList movies={movies} />}\n      {movies && movies.length === 0 && <p>We haven't found anything.</p>}\n    </div>\n  );\n};\nexport default Movies;\n"],"names":["MovielistCard","id","img","name","date","location","useLocation","className","css","to","state","from","src","alt","height","style","width","border","display","justifyContent","alignItems","MoviesList","movies","map","movie","SearchForm","setFormValue","useSearchParams","searchParams","setSearchParams","useState","get","changingValue","setChangingValue","onSubmit","e","preventDefault","target","value","trim","search","handlerSubmit","onChange","plaseholder","formValue","setMovies","loader","setLoader","useEffect","fetch","axios","response","filmNames","data","results","film","title","poster_path","release_date","slice","console","log","radius","color","ariaLabel","margin","length"],"sourceRoot":""}
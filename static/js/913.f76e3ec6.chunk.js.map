{"version":3,"file":"static/js/913.f76e3ec6.chunk.js","mappings":"sPACA,EAA0B,2BAA1B,EAA4D,wBAA5D,EAA2F,wBAA3F,EAA0H,wB,kBC8F1H,EArFkB,WAChB,IACMA,GADKC,EAAAA,EAAAA,MACQD,QAEnB,GAA4BE,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,WAAS,GAArC,eAAOG,EAAP,KAAeC,EAAf,KAiCA,OA/BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAK,mCAAG,6FACZF,GAAU,GADE,kBAGaG,EAAAA,EAAAA,IAAA,UAfd,uCAec,OACPT,EADO,oBAdnB,6CAWM,OAGJU,EAHI,OAOJC,EAAcD,EAASE,KAAKC,KAAKC,KAAI,SAAAC,GASzC,MANY,CACVC,KAH4CD,EAAtCC,KAINC,UAJ4CF,EAAhCE,UAKZC,GAL4CH,EAArBG,GAMvBC,IAN4CJ,EAAjBK,aAS9B,IACDhB,EAAUO,GACVL,GAAU,GAnBA,kDAqBVA,GAAU,GACVe,QAAQC,IAAI,SAtBF,0DAAH,qDA0BXd,GAED,GAAE,KAGD,qBAASe,UAAWC,EAApB,UACGnB,IACC,SAAC,KAAD,CACEoB,OAAO,KACPC,MAAM,KACNC,OAAO,IACPC,MAAM,QACNC,UAAU,UACVC,OAAO,SAGV3B,EAAO4B,OAAS,IACf,eAAIR,UAAWC,EAAf,SACGrB,EAAOW,KAAI,SAAAC,GAAK,OACf,gBAAIQ,UAAWC,EAAf,UACGT,EAAMI,KACL,gBACEM,OAAO,QACPO,IAAI,MACJC,MAAO,CAAEP,MAAO,SAChBQ,IAAG,UA7DL,mCA6DK,OAAenB,EAAMI,QAG1B,gBACEc,MAAO,CACLP,MAAO,QACPD,OAAQ,QACRU,OAAQ,iBACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAPhB,UAUE,wCAGJ,eAAGf,UAAWC,EAAd,mBAA+BT,EAAMC,SACrC,eAAGO,UAAWC,EAAd,wBAAoCT,EAAME,eAvBdF,EAAMG,GADrB,MA6BF,IAAlBf,EAAO4B,SAAgB,4CAG7B,C","sources":["webpack://react-homework-template/./src/components/MovieCast/MovieCast.module.css?c01c","components/MovieCast/MovieCast.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieCast_section__1ntK+\",\"text\":\"MovieCast_text__fdf42\",\"list\":\"MovieCast_list__ZRqM9\",\"item\":\"MovieCast_item__hB21P\"};","import { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport css from './MovieCast.module.css';\nimport { Audio } from 'react-loader-spinner';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst KEY = 'api_key=e777b5f5a1d00d3a4d56208d16e8e0e4';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst MovieCast = () => {\n  const id = useParams();\n  const movieId = id.movieId;\n\n  const [actors, setActors] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    const fetch = async () => {\n      setLoader(true);\n      try {\n        const response = await axios.get(\n          `${BASE_URL}${movieId}/credits?${KEY}`\n        );\n\n        const actorsArrey = response.data.cast.map(actor => {\n          const { name, character, id, profile_path } = actor;\n\n          const obj = {\n            name: name,\n            character: character,\n            id: id,\n            img: profile_path,\n          };\n          return obj;\n        });\n        setActors(actorsArrey);\n        setLoader(false);\n      } catch {\n        setLoader(false);\n        console.log('error');\n        \n      }\n    };\n    fetch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <section className={css.section}>\n      {loader && (\n        <Audio\n          height=\"80\"\n          width=\"80\"\n          radius=\"9\"\n          color=\"green\"\n          ariaLabel=\"loading\"\n          margin=\"auto\"\n        />\n      )}\n      {actors.length > 0 && (\n        <ul className={css.list}>\n          {actors.map(actor => (\n            <li className={css.item} key={actor.id}>\n              {actor.img ? (\n                <img\n                  height=\"150px\"\n                  alt=\"img\"\n                  style={{ width: '100px' }}\n                  src={`${IMG_URL}${actor.img}`}\n                />\n              ) : (\n                <div\n                  style={{\n                    width: '100px',\n                    height: '150px',\n                    border: '#000 solid 1px',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                  }}\n                >\n                  <p>Not found</p>\n                </div>\n              )}\n              <p className={css.text}>Name: {actor.name}</p>\n              <p className={css.text}>Character: {actor.character}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n      {actors.length === 0 && <p>Cast not found</p>}\n    </section>\n  );\n};\nexport default MovieCast;\n"],"names":["movieId","useParams","useState","actors","setActors","loader","setLoader","useEffect","fetch","axios","response","actorsArrey","data","cast","map","actor","name","character","id","img","profile_path","console","log","className","css","height","width","radius","color","ariaLabel","margin","length","alt","style","src","border","display","justifyContent","alignItems"],"sourceRoot":""}
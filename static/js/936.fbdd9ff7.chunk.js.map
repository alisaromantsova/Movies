{"version":3,"file":"static/js/936.fbdd9ff7.chunk.js","mappings":"qPACA,EAAwB,oBAAxB,EAAsD,sBAAtD,EAAmF,mBAAnF,EAAiH,uBAAjH,EAA+I,mBAA/I,EAAyK,mBAAzK,EAAmM,mB,kBCsFnM,EA7Ea,WACX,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,WAAS,GAArC,eAAOG,EAAP,KAAeC,EAAf,KA0BA,OAzBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAK,mCAAG,6FACZF,GAAU,GADE,kBAGaG,EAAAA,EAAAA,IAAA,UAXd,+BAWc,6BAVnB,6CAOM,OAGJC,EAHI,OAKJC,EAAYD,EAASE,KAAKC,QAAQC,KAAI,SAAAC,GAC1C,IAAQC,EAA+CD,EAA/CC,MAAOC,EAAwCF,EAAxCE,KAAMC,EAAkCH,EAAlCG,GAAIC,EAA8BJ,EAA9BI,YAAaC,EAAiBL,EAAjBK,aAOtC,MANY,CACVH,KAAMD,GAASC,EACfC,GAAIA,EACJG,IAAKF,EACLG,KAAMF,EAAeA,EAAaG,MAAM,EAAG,GAAK,GAGnD,IACDnB,EAAUO,GACVL,GAAU,GAhBA,kDAkBVkB,QAAQC,IAAI,SAlBF,0DAAH,qDAqBXjB,GACD,GAAE,KAGD,qBAASkB,UAAWC,EAApB,WACE,eAAID,UAAWC,EAAf,4BACCtB,IACC,SAAC,KAAD,CACEuB,OAAO,KACPC,MAAM,KACNC,OAAO,IACPC,MAAM,QACNC,UAAU,UACVC,OAAO,UAIX,eAAIP,UAAWC,EAAf,SACGxB,EAAOW,KAAI,SAAAoB,GAAK,OACf,eAAIR,UAAWC,EAAf,UACE,UAAC,KAAD,CAAMQ,GAAE,kBAAaD,EAAMhB,IAAMkB,MAAO,CAAEC,KAAM,KAAhD,UACGH,EAAMb,KACL,gBACEiB,IAAG,UAlDL,mCAkDK,OAAeJ,EAAMb,IAArB,KACHkB,IAAKL,EAAMjB,MAAQ,GACnBW,OAAO,WAGT,gBACEY,MAAO,CACLX,MAAO,QACPD,OAAQ,QACRa,OAAQ,iBACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAPhB,UAUE,wCAGJ,iBAAKlB,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,SAAyBO,EAAMjB,QAC/B,cAAGS,UAAWC,EAAd,SAAyBO,EAAMZ,cAxBHY,EAAMhB,GADzB,QAiCxB,C","sources":["webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","pages/Home/Home.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Home_title__L087v\",\"section\":\"Home_section__uZuiO\",\"list\":\"Home_list__aopnc\",\"moviesLi\":\"Home_moviesLi__RcFKx\",\"name\":\"Home_name__GPsqW\",\"year\":\"Home_year__MF6+A\",\"text\":\"Home_text__YlQ2v\"};","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport css from './Home.module.css';\nimport { Audio } from 'react-loader-spinner';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'api_key=e777b5f5a1d00d3a4d56208d16e8e0e4';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [loader, setLoader] = useState(false);\n  useEffect(() => {\n    const fetch = async () => {\n      setLoader(true);\n      try {\n        const response = await axios.get(`${BASE_URL}/trending/all/day?${KEY}`);\n\n        const filmNames = response.data.results.map(film => {\n          const { title, name, id, poster_path, release_date } = film;\n          const obj = {\n            name: title || name,\n            id: id,\n            img: poster_path,\n            date: release_date ? release_date.slice(0, 4) : '',\n          };\n          return obj;\n        });\n        setMovies(filmNames);\n        setLoader(false);\n      } catch {\n        console.log('error');\n      }\n    };\n    fetch();\n  }, []);\n\n  return (\n    <section className={css.section}>\n      <h1 className={css.title}>Trending today</h1>\n      {loader && (\n        <Audio\n          height=\"80\"\n          width=\"80\"\n          radius=\"9\"\n          color=\"green\"\n          ariaLabel=\"loading\"\n          margin=\"auto\"\n        />\n      )}\n\n      <ul className={css.list}>\n        {movies.map(movie => (\n          <li className={css.moviesLi} key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{ from: '/' }}>\n              {movie.img ? (\n                <img\n                  src={`${IMG_URL}${movie.img} `}\n                  alt={movie.name || ''}\n                  height=\"411px\"\n                />\n              ) : (\n                <div\n                  style={{\n                    width: '100px',\n                    height: '150px',\n                    border: '#000 solid 1px',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                  }}\n                >\n                  <p>Not found</p>\n                </div>\n              )}\n              <div className={css.text}>\n                <p className={css.name}>{movie.name}</p>\n                <p className={css.year}>{movie.date}</p>\n              </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\nexport default Home;\n"],"names":["useState","movies","setMovies","loader","setLoader","useEffect","fetch","axios","response","filmNames","data","results","map","film","title","name","id","poster_path","release_date","img","date","slice","console","log","className","css","height","width","radius","color","ariaLabel","margin","movie","to","state","from","src","alt","style","border","display","justifyContent","alignItems"],"sourceRoot":""}